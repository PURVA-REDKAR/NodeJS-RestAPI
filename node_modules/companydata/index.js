var _0x29fc=['length','n/a','mgr\x20delete','delete','dept_id','getId','query','SELECT\x20*\x20FROM\x20department\x20WHERE\x20company\x20=\x20?','map','dept_no','location','getAllDepartment','getDepartment','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','dept_name','getDepartmentByNo','SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_no\x20=\x20?\x20AND\x20company\x20=\x20?','insertDepartment','INSERT\x20INTO\x20department\x20(company,\x20dept_name,\x20dept_no,\x20location\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?)','UPDATE\x20department\x20SET\x20dept_name\x20=\x20?,\x20dept_no\x20=\x20?,\x20location\x20=\x20?\x20WHERE\x20dept_id\x20=\x20?','log','DELETE\x20from\x20department\x20WHERE\x20dept_id\x20=\x20?\x20AND\x20company\x20=\x20?','affectedRows','deleteDepartment','hire_date','INSERT\x20INTO\x20employee\x20(emp_name,\x20emp_no,\x20hire_date,\x20job,\x20salary,\x20dept_id,\x20mng_id\x20)\x20VALUES\x20(?,\x20?,\x20?,\x20?,\x20?,\x20?,\x20?)','emp_no','job','salary','mng_id','SELECT\x20*\x20FROM\x20employee\x20WHERE\x20emp_id\x20=\x20?','insertId','emp_id','insertEmployee','SELECT\x20*\x20FROM\x20employee\x20LEFT\x20JOIN\x20department\x20USING(dept_id)\x20WHERE\x20department.company\x20=\x20?','emp_name','getAllEmployee','getEmployee','UPDATE\x20employee\x20SET\x20emp_name\x20=\x20?,\x20emp_no\x20=\x20?,\x20hire_date\x20=\x20?,\x20job\x20=\x20?,\x20salary\x20=\x20?,\x20dept_id\x20=\x20?,\x20mng_id\x20=\x20?\x20WHERE\x20emp_id\x20=\x20?','updateEmployee','DELETE\x20from\x20employee\x20WHERE\x20emp_id\x20=\x20?','deleteEmployee','insertTimecard','start_time','end_time','INSERT\x20INTO\x20timecard\x20(start_time,\x20end_time,\x20emp_id\x20)\x20VALUES\x20(?,\x20?,\x20?)','SELECT\x20*\x20FROM\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','timecard_id','date-fns/format','YYYY-MM-DD\x20HH:mm:ss','getAllTimecard','getTimecard','updateTimecard','split','UPDATE\x20timecard\x20SET\x20start_time\x20=\x20?,\x20end_time\x20=\x20?\x20WHERE\x20timecard_id\x20=\x20?','DELETE\x20from\x20timecard\x20WHERE\x20timecard_id\x20=\x20?','deleteTimecard','sync-mysql','bdfvks-docker.ist.rit.edu','576','company','./lib/department','exports','Department','./lib/employee','Employee','./lib/timecard','Timecard','getTime','toISOString','slice','([0-1][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])','test','deleteCompany'];(function(_0x3bd4d4,_0x1e1ee6){var _0x20c481=function(_0x2fa7a9){while(--_0x2fa7a9){_0x3bd4d4['push'](_0x3bd4d4['shift']());}};_0x20c481(++_0x1e1ee6);}(_0x29fc,0x161));var _0x1cd9=function(_0x374e0e,_0x170813){_0x374e0e=_0x374e0e-0x0;var _0x3f7c8a=_0x29fc[_0x374e0e];return _0x3f7c8a;};'use strict';var MySql=require(_0x1cd9('0x0'));var connection=new MySql({'host':_0x1cd9('0x1'),'user':_0x1cd9('0x2'),'password':'576','database':_0x1cd9('0x3')});var Department=require(_0x1cd9('0x4'));module[_0x1cd9('0x5')][_0x1cd9('0x6')]=Department;var Employee=require(_0x1cd9('0x7'));module[_0x1cd9('0x5')][_0x1cd9('0x8')]=Employee;var Timecard=require(_0x1cd9('0x9'));module[_0x1cd9('0x5')][_0x1cd9('0xa')]=Timecard;function isValidDate(_0x38cdd7){var _0x50d75e=/^\d{4}-\d{2}-\d{2}$/;if(!_0x38cdd7['match'](_0x50d75e))return![];var _0x5448af=new Date(_0x38cdd7);if(!_0x5448af[_0x1cd9('0xb')]()&&_0x5448af['getTime']()!==0x0)return![];return _0x5448af[_0x1cd9('0xc')]()[_0x1cd9('0xd')](0x0,0xa)===_0x38cdd7;}function validateTime(_0x3e2948){var _0x52ce4a=new RegExp(_0x1cd9('0xe'));if(_0x52ce4a[_0x1cd9('0xf')](_0x3e2948)){return!![];}else{return![];}}module['exports'][_0x1cd9('0x10')]=function(_0x288b26){const _0x5b34c0=require('date-fns/format');if(!_0x288b26||_0x288b26[_0x1cd9('0x11')]===0x0||/^\s*$/[_0x1cd9('0xf')](_0x288b26)){_0x288b26=_0x1cd9('0x12');}var _0x354bee=0x0;var _0x865e92=getAllDepartment(_0x288b26);var _0x117c5e=getAllEmployee(_0x288b26);if(_0x117c5e['length']>0x0){var _0x29eb62=new Employee(_0x1cd9('0x13'),_0x1cd9('0x13'),_0x5b34c0(new Date(),'YYYY-MM-DD'),_0x1cd9('0x14'),0x0,_0x117c5e[0x0][_0x1cd9('0x15')],null,null);insertEmployee(_0x29eb62);var _0x2a548d=_0x29eb62[_0x1cd9('0x16')]();for(var _0x1efcd9 of _0x117c5e){if(_0x1efcd9['getId']()!=_0x2a548d){_0x1efcd9['setMngId'](_0x2a548d);updateEmployee(_0x1efcd9);var _0x3679c4=getAllTimecard(_0x1efcd9[_0x1cd9('0x16')]());for(var _0x50121b of _0x3679c4){deleteTimecard(_0x50121b[_0x1cd9('0x16')]());_0x354bee++;}}}for(var _0x1efcd9 of _0x117c5e){if(_0x1efcd9[_0x1cd9('0x16')]()!=_0x2a548d){deleteEmployee(_0x1efcd9['getId']());_0x354bee++;}}deleteEmployee(_0x2a548d);_0x354bee++;}for(var _0x2a1b94 of _0x865e92){deleteDepartment(_0x288b26,_0x2a1b94[_0x1cd9('0x16')]());_0x354bee++;}return _0x354bee;};function getAllDepartment(_0x15c2ee){if(!_0x15c2ee||_0x15c2ee[_0x1cd9('0x11')]===0x0||/^\s*$/['test'](_0x15c2ee)){_0x15c2ee=_0x1cd9('0x12');}var _0xa7bf15=connection[_0x1cd9('0x17')](_0x1cd9('0x18'),[_0x15c2ee]);return _0xa7bf15[_0x1cd9('0x19')](_0x4eb1a5=>new Department(_0x4eb1a5[_0x1cd9('0x3')],_0x4eb1a5['dept_name'],_0x4eb1a5[_0x1cd9('0x1a')],_0x4eb1a5[_0x1cd9('0x1b')],_0x4eb1a5[_0x1cd9('0x15')]));}module['exports'][_0x1cd9('0x1c')]=getAllDepartment;module[_0x1cd9('0x5')][_0x1cd9('0x1d')]=function(_0x5cd835,_0x2267ca){if(!_0x2267ca||!_0x5cd835)return null;var _0x3dc7c8=connection[_0x1cd9('0x17')](_0x1cd9('0x1e'),[_0x2267ca,_0x5cd835]);if(_0x3dc7c8[_0x1cd9('0x11')]==0x1){return new Department(_0x3dc7c8[0x0][_0x1cd9('0x3')],_0x3dc7c8[0x0][_0x1cd9('0x1f')],_0x3dc7c8[0x0][_0x1cd9('0x1a')],_0x3dc7c8[0x0]['location'],_0x3dc7c8[0x0][_0x1cd9('0x15')]);}else{return null;}};module[_0x1cd9('0x5')][_0x1cd9('0x20')]=function(_0x27a2ea,_0x532b74){if(!_0x532b74||!_0x27a2ea)return null;var _0x5aa6e1=connection[_0x1cd9('0x17')](_0x1cd9('0x21'),[_0x532b74,_0x27a2ea]);if(_0x5aa6e1[_0x1cd9('0x11')]==0x1){return new Department(_0x5aa6e1[0x0][_0x1cd9('0x3')],_0x5aa6e1[0x0]['dept_name'],_0x5aa6e1[0x0][_0x1cd9('0x1a')],_0x5aa6e1[0x0][_0x1cd9('0x1b')],_0x5aa6e1[0x0][_0x1cd9('0x15')]);}else{return null;}};module['exports'][_0x1cd9('0x22')]=function(_0x16203d){try{var _0x2df97c=connection[_0x1cd9('0x17')](_0x1cd9('0x23'),[_0x16203d[_0x1cd9('0x3')],_0x16203d['dept_name'],_0x16203d[_0x1cd9('0x1a')],_0x16203d[_0x1cd9('0x1b')]]);_0x2df97c=connection[_0x1cd9('0x17')]('SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?',[_0x2df97c['insertId']]);return new Department(_0x2df97c[0x0][_0x1cd9('0x3')],_0x2df97c[0x0]['dept_name'],_0x2df97c[0x0][_0x1cd9('0x1a')],_0x2df97c[0x0]['location'],_0x2df97c[0x0][_0x1cd9('0x15')]);}catch(_0x1b0dae){console['log'](_0x1b0dae);return null;}};module[_0x1cd9('0x5')]['updateDepartment']=function(_0xea7d3f){try{var _0x281b85=connection[_0x1cd9('0x17')](_0x1cd9('0x24'),[_0xea7d3f[_0x1cd9('0x1f')],_0xea7d3f[_0x1cd9('0x1a')],_0xea7d3f[_0x1cd9('0x1b')],_0xea7d3f[_0x1cd9('0x15')]]);_0x281b85=connection['query']('SELECT\x20*\x20FROM\x20department\x20WHERE\x20dept_id\x20=\x20?',[_0xea7d3f[_0x1cd9('0x15')]]);if(_0x281b85[_0x1cd9('0x11')]==0x1){return new Department(_0x281b85[0x0]['company'],_0x281b85[0x0]['dept_name'],_0x281b85[0x0][_0x1cd9('0x1a')],_0x281b85[0x0]['location'],_0x281b85[0x0][_0x1cd9('0x15')]);}else{return null;}}catch(_0x2fa0bb){console[_0x1cd9('0x25')](_0x2fa0bb);return null;}};function deleteDepartment(_0x1469fe,_0x23ac16){try{var _0x344e26=connection[_0x1cd9('0x17')](_0x1cd9('0x26'),[_0x23ac16,_0x1469fe]);return _0x344e26[_0x1cd9('0x27')];}catch(_0x42bc1d){console[_0x1cd9('0x25')](_0x42bc1d);return 0x0;}}module[_0x1cd9('0x5')][_0x1cd9('0x28')]=deleteDepartment;function insertEmployee(_0x36f859){if(!_0x36f859['hire_date']||!isValidDate(_0x36f859[_0x1cd9('0x29')])){return null;}try{var _0x535967=connection[_0x1cd9('0x17')](_0x1cd9('0x2a'),[_0x36f859['emp_name'],_0x36f859[_0x1cd9('0x2b')],_0x36f859[_0x1cd9('0x29')],_0x36f859[_0x1cd9('0x2c')],_0x36f859[_0x1cd9('0x2d')],_0x36f859[_0x1cd9('0x15')],_0x36f859[_0x1cd9('0x2e')]]);_0x535967=connection[_0x1cd9('0x17')](_0x1cd9('0x2f'),[_0x535967[_0x1cd9('0x30')]]);return new Employee(_0x535967[0x0]['emp_name'],_0x535967[0x0][_0x1cd9('0x2b')],_0x535967[0x0][_0x1cd9('0x29')],_0x535967[0x0][_0x1cd9('0x2c')],_0x535967[0x0]['salary'],_0x535967[0x0][_0x1cd9('0x15')],_0x535967[0x0][_0x1cd9('0x2e')],_0x535967[0x0][_0x1cd9('0x31')]);}catch(_0x5d06d9){console['log'](_0x5d06d9);return null;}}module[_0x1cd9('0x5')][_0x1cd9('0x32')]=insertEmployee;function getAllEmployee(_0x11c347){if(!_0x11c347||_0x11c347[_0x1cd9('0x11')]===0x0||/^\s*$/[_0x1cd9('0xf')](_0x11c347)){_0x11c347=_0x1cd9('0x12');}var _0x39df9c=connection[_0x1cd9('0x17')](_0x1cd9('0x33'),[_0x11c347]);return _0x39df9c[_0x1cd9('0x19')](_0x2475f3=>new Employee(_0x2475f3[_0x1cd9('0x34')],_0x2475f3[_0x1cd9('0x2b')],_0x2475f3[_0x1cd9('0x29')],_0x2475f3['job'],_0x2475f3[_0x1cd9('0x2d')],_0x2475f3[_0x1cd9('0x15')],_0x2475f3['mng_id'],_0x2475f3[_0x1cd9('0x31')]));}module[_0x1cd9('0x5')][_0x1cd9('0x35')]=getAllEmployee;module[_0x1cd9('0x5')][_0x1cd9('0x36')]=function(_0x2b18ad){if(!_0x2b18ad)return null;var _0x1d095a=connection[_0x1cd9('0x17')](_0x1cd9('0x2f'),[_0x2b18ad]);if(_0x1d095a[_0x1cd9('0x11')]==0x1){return new Employee(_0x1d095a[0x0][_0x1cd9('0x34')],_0x1d095a[0x0][_0x1cd9('0x2b')],_0x1d095a[0x0][_0x1cd9('0x29')],_0x1d095a[0x0]['job'],_0x1d095a[0x0][_0x1cd9('0x2d')],_0x1d095a[0x0][_0x1cd9('0x15')],_0x1d095a[0x0][_0x1cd9('0x2e')],_0x1d095a[0x0][_0x1cd9('0x31')]);}else{return null;}};function updateEmployee(_0x11e029){if(!_0x11e029['hire_date']||!isValidDate(_0x11e029[_0x1cd9('0x29')])){return null;}try{var _0x58285c=connection[_0x1cd9('0x17')](_0x1cd9('0x37'),[_0x11e029['emp_name'],_0x11e029['emp_no'],_0x11e029[_0x1cd9('0x29')],_0x11e029['job'],_0x11e029[_0x1cd9('0x2d')],_0x11e029[_0x1cd9('0x15')],_0x11e029[_0x1cd9('0x2e')],_0x11e029['emp_id']]);_0x58285c=connection[_0x1cd9('0x17')](_0x1cd9('0x2f'),[_0x11e029[_0x1cd9('0x31')]]);if(_0x58285c[_0x1cd9('0x11')]==0x1){return new Employee(_0x58285c[0x0]['emp_name'],_0x58285c[0x0][_0x1cd9('0x2b')],_0x58285c[0x0][_0x1cd9('0x29')],_0x58285c[0x0][_0x1cd9('0x2c')],_0x58285c[0x0][_0x1cd9('0x2d')],_0x58285c[0x0][_0x1cd9('0x15')],_0x58285c[0x0][_0x1cd9('0x2e')],_0x58285c[0x0][_0x1cd9('0x31')]);}else{return null;}}catch(_0x20d2a7){console[_0x1cd9('0x25')](_0x20d2a7);return null;}}module[_0x1cd9('0x5')][_0x1cd9('0x38')]=updateEmployee;function deleteEmployee(_0x23d94f){try{var _0x39995a=connection[_0x1cd9('0x17')](_0x1cd9('0x39'),[_0x23d94f]);return _0x39995a['affectedRows'];}catch(_0x42682e){console[_0x1cd9('0x25')](_0x42682e);return 0x0;}}module[_0x1cd9('0x5')][_0x1cd9('0x3a')]=deleteEmployee;module[_0x1cd9('0x5')][_0x1cd9('0x3b')]=function(_0x38eabc){var _0x88cc34=_0x38eabc[_0x1cd9('0x3c')]['split']('\x20');if(!isValidDate(_0x88cc34[0x0])||!validateTime(_0x88cc34[0x1])){return null;}var _0x523def=_0x38eabc[_0x1cd9('0x3d')]['split']('\x20');if(!isValidDate(_0x523def[0x0])||!validateTime(_0x523def[0x1])){return null;}try{var _0x4760ff=connection[_0x1cd9('0x17')](_0x1cd9('0x3e'),[_0x38eabc[_0x1cd9('0x3c')],_0x38eabc[_0x1cd9('0x3d')],_0x38eabc[_0x1cd9('0x31')]]);_0x4760ff=connection['query'](_0x1cd9('0x3f'),[_0x4760ff[_0x1cd9('0x30')]]);return new Timecard(_0x4760ff[0x0]['start_time'],_0x4760ff[0x0][_0x1cd9('0x3d')],_0x4760ff[0x0][_0x1cd9('0x31')],_0x4760ff[0x0][_0x1cd9('0x40')]);}catch(_0x5c6063){console[_0x1cd9('0x25')](_0x5c6063);return null;}};function getAllTimecard(_0x22807c){const _0x19ff13=require(_0x1cd9('0x41'));var _0x42ea27=connection[_0x1cd9('0x17')]('SELECT\x20*\x20FROM\x20timecard\x20where\x20emp_id\x20=\x20?',[_0x22807c]);return _0x42ea27['map'](_0xd3fe61=>new Timecard(_0x19ff13(_0xd3fe61[_0x1cd9('0x3c')],_0x1cd9('0x42')),_0x19ff13(_0xd3fe61[_0x1cd9('0x3d')],_0x1cd9('0x42')),_0xd3fe61[_0x1cd9('0x31')],_0xd3fe61[_0x1cd9('0x40')]));}module[_0x1cd9('0x5')][_0x1cd9('0x43')]=getAllTimecard;module['exports'][_0x1cd9('0x44')]=function(_0x1a042c){const _0x24a238=require(_0x1cd9('0x41'));if(!_0x1a042c)return null;var _0x161f34=connection[_0x1cd9('0x17')](_0x1cd9('0x3f'),[_0x1a042c]);if(_0x161f34[_0x1cd9('0x11')]==0x1){return new Timecard(_0x24a238(_0x161f34[0x0]['start_time'],_0x1cd9('0x42')),_0x24a238(_0x161f34[0x0]['end_time'],_0x1cd9('0x42')),_0x161f34[0x0][_0x1cd9('0x31')],_0x161f34[0x0][_0x1cd9('0x40')]);}else{return null;}};module[_0x1cd9('0x5')][_0x1cd9('0x45')]=function(_0x3ed30e){const _0x1794c2=require(_0x1cd9('0x41'));var _0x111478=_0x3ed30e[_0x1cd9('0x3c')][_0x1cd9('0x46')]('\x20');if(!isValidDate(_0x111478[0x0])||!validateTime(_0x111478[0x1])){return null;}var _0x37926a=_0x3ed30e[_0x1cd9('0x3d')][_0x1cd9('0x46')]('\x20');if(!isValidDate(_0x37926a[0x0])||!validateTime(_0x37926a[0x1])){return null;}try{var _0x4ad273=connection[_0x1cd9('0x17')](_0x1cd9('0x47'),[_0x3ed30e['start_time'],_0x3ed30e[_0x1cd9('0x3d')],_0x3ed30e['timecard_id']]);_0x4ad273=connection[_0x1cd9('0x17')](_0x1cd9('0x3f'),[_0x3ed30e[_0x1cd9('0x40')]]);if(_0x4ad273[_0x1cd9('0x11')]==0x1){return new Timecard(_0x1794c2(_0x4ad273[0x0][_0x1cd9('0x3c')],'YYYY-MM-DD\x20HH:mm:ss'),_0x1794c2(_0x4ad273[0x0][_0x1cd9('0x3d')],_0x1cd9('0x42')),_0x4ad273[0x0][_0x1cd9('0x31')],_0x4ad273[0x0][_0x1cd9('0x40')]);}else{return null;}}catch(_0x12debb){console[_0x1cd9('0x25')](_0x12debb);return null;}};function deleteTimecard(_0x308a81){try{var _0x5bd441=connection[_0x1cd9('0x17')](_0x1cd9('0x48'),[_0x308a81]);return _0x5bd441['affectedRows'];}catch(_0x380a6e){console[_0x1cd9('0x25')](_0x380a6e);return 0x0;}}module[_0x1cd9('0x5')][_0x1cd9('0x49')]=deleteTimecard;